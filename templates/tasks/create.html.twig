{% extends 'base.html.twig' %}

{% block title %}Create Task
{% endblock %}

{% block body %}
	<div class="task-edit-wrapper">
		<h1>Create a New Task</h1>

		<form method="post" action="{{ path('tasks_store') }}" enctype="multipart/form-data">
			<div class="form-group">
				<label for="name">📝 Task Name</label>
				<input type="text" name="name" id="name" class="form-control" required>
			</div>

			<div class="form-group">
				<label for="date">📅 Set Date</label>
				<input type="datetime-local" name="date" id="date" class="form-control" required>
			</div>

			<div class="form-group">
				<label for="image">📷 Upload Image</label>
				<input type="file" name="image" id="image" class="form-control" accept="image/*">
			</div>

			<div class="mt-3">
				<button type="submit" class="btn btn-warning w-100">✅ Create Task</button>
			</div>
		</form>

		<div class="mt-3 text-center">
			<a href="{{ path('tasks_index') }}" class="btn btn-outline-secondary">⬅️ Back to Task List</a>
		</div>
	</div>

	<style>
		.task-edit-wrapper {
			max-width: 600px;
			margin: 50px auto;
			padding: 30px;
			background-color: #fdfdfd;
			border-radius: 12px;
			box-shadow: 0 0 12px rgba(0, 0, 0, 0.1);
			text-align: center;
		}

		.task-edit-wrapper h1 {
			margin-bottom: 25px;
			color: #333;
			font-weight: bold;
		}

		.form-group {
			text-align: left;
			margin-bottom: 20px;
		}

		.form-group label {
			font-weight: 500;
			display: block;
			margin-bottom: 5px;
		}

		.form-control {
			border-radius: 6px;
			border: 1px solid #ccc;
			padding: 10px;
		}
	</style>
{% endblock %}

{% block javascripts %}
	<script>
		{% if response %}
{% if response == 'ok' %}
Swal.fire({title: 'Success!', text: '{{ message }}', icon: 'success', confirmButtonText: 'OK'}).then((result) => {
if (result.isConfirmed) {
window.location.href = "{{ path('tasks_index') }}";
}
});
{% else %}
Swal.fire({title: 'Error!', text: '{{ message }}', icon: 'error', confirmButtonText: 'OK'});{% endif %}{% endif %}
	</script>
{% endblock %}
